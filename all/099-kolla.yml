---
##########################################################
# Enable default set of services

enable_common: "yes"

# infrastructure

enable_central_logging: "yes"
enable_prometheus: "yes"
enable_redis: "yes"
enable_grafana: "yes"

# openstack

enable_cinder: "yes"
enable_designate: "yes"
enable_octavia: "yes"

##########################################################
# Set default configuartions

certificates_dir: /share/certificates

kolla_base_distro: ubuntu
kolla_install_type: source

config_strategy: COPY_ALWAYS
node_custom_config: "{{ configuration_directory }}/environments/kolla/files/overlays"

docker_namespace: osism
docker_registry_kolla: quay.io
docker_restart_policy_retry: 0

openstack_logging_debug: "False"  # NOTE: This has to be "False", not "false"!

# haproxy
kolla_enable_tls_external: "yes"

haproxy_client_timeout: 5m
haproxy_server_timeout: 5m

# mariadb
enable_mariabackup: "yes"

# horizon
horizon_backend_database: "yes"

# keystone
keystone_token_provider: "fernet"
keystone_federation_oidc_response_type: "code"   # NOTE: use authorization code in keystone instead of default upstream

# neutron

enable_neutron_port_forwarding: "yes"
enable_neutron_qos: "yes"

# nova
nova_console: novnc

# octavia
octavia_loadbalancer_topology: "ACTIVE_STANDBY"
octavia_amp_image_tag: amphora
octavia_certs_work_dir: /share

# ceph
ceph_cinder_keyring: "ceph.client.cinder.keyring"
ceph_nova_keyring: "ceph.client.nova.keyring"

# rabbitmq
rabbitmq_monitoring_user: monitoring

# gnocchi
enable_gnocchi_statsd: "no"

# fluentd

# NOTE: https://github.com/osism/issues/issues/3
fluentd_enable_watch_timer: "true"

# rolling upgrades
glance_enable_rolling_upgrade: "yes"

##########################################################
# Bugfixes

# NOTE: https://github.com/osism/issues/issues/231
ceilometer_central_enable_healthchecks: "no"

# NOTE: https://github.com/osism/issues/issues/288
gnocchi_statsd_enable_healthchecks: "no"
